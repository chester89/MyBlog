@using MyBlog.Core
@model MyBlog.Web.Models.CreatePostModel

@{
    ViewBag.Title = Messages.Posts_Create_Title;
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script src="@Url.Content("~/Scripts/ViewModels/createPostVm.js")" type="text/javascript"></script>

<script type="text/javascript">
    $(document).ready(function () {
        var viewModel = new createPostViewModel();
        viewModel.getCoordinates(@Model.Timestamp);
        ko.applyBindings(viewModel);
    });
</script>

<form class="form-horizontal" action="@Url.Action("Create")">
    <p>
        <span data-bind="text: timeZoneAndLocation" />
    </p>

    <div class="control-group">
        <label class="control-label" for="Title">@Messages.Posts_Create_TitleLabel</label>
        <div class="controls">
            @Html.TextBoxFor(x => x.Title)
        </div>
    </div>
    
    <div class="control-group">
        <label class="control-label" for="Text">@Messages.Posts_Create_TextLabel</label>
        <div class="controls">
            @Html.TextAreaFor(x => x.Text, 10, 10, null)
        </div>
    </div>
</form>
